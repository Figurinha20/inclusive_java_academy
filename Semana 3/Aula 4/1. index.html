<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Desafio Index</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body>
    <!-- init html code -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <!-- init js code -->
    <script>
        // https://www.w3schools.com/jsref/jsref_obj_array.asp
        const numbers = [12, 3, 4, 5, 6, 7, 12, 12, 7, 8];

        const numbers2 = [12, 3, 4, 5, 6, 7, 12, 12, 7, 8, 12, 5, 3, 5, 2];

        /********************************************************************************
         *
         *       Desafio: Identificar o número mais repetido e apresente os seus índices
         *
         ********************************************************************************/
        // Function to find the most 
        // frequent element in an array.
        function mostFreqEle(array) {
            let n = array.length;

            // Insert all elements in hash map.
            let freq = new Map();
            for (let i = 0; i < n; i++)
                freq.set(array[i], (freq.get(array[i]) || 0) + 1);

            console.log(freq);
            
            // find the max frequency
            let maxCnt = 0, res = -1;
            for (let [val, cnt] of freq) {
                if (maxCnt < cnt || (cnt === maxCnt && val > res)) {
                    res = val;
                    maxCnt = cnt;
                }
            }

            let indexes = [];
            for (let i = 0; i < array.length; i++) {
                if (array[i] == res) {
                    indexes.push(i);
                }
            }

            console.log(res);
            console.log(indexes);
        }
        mostFreqEle(numbers);
        mostFreqEle(numbers2);  
    </script>
</body>

</html>